
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Get Current URL in JavaScript</title>

<style>
html, 
body {
    height: 100%;
    width: 100%;
}
</style>

</head>
<body>

<h1> Random Surface Viewer </h1>

<button onclick="updateLink()">Show me a random surface!</button>

<div>
<a href="" id="output"></a>
</div>

<div style="width:80%; height:60%; max-height:600px">
 <iframe src="" id="frm" style="width:100%; height:100%"></iframe> 
</div>

<script>
    function generateModelLink(){
        var base_string = "https://raw.githubusercontent.com/hugohadfield/tube_mapper/master/models/";
        var number = Math.floor(Math.random() * 100);
        var total_string = base_string + "test" + number.toString().padStart(2, "0") + ".obj";
        return total_string;
    };

    function updateLink(){
        var image_url = "https://raw.githubusercontent.com/hugohadfield/tube_mapper/master/tube.png";
        var material_url = "https://raw.githubusercontent.com/hugohadfield/tube_mapper/master/tube.mtl";
        var model_url = generateModelLink();
        var url = "https://3dviewer.net/#" + model_url + "," + image_url + "," + material_url;
        if (url != undefined){
            document.getElementById("output").innerHTML = "<a href="+url+">"+url+"</a>";
            document.getElementById("frm").src = url;
        }
    };
</script>

</body>
</html>